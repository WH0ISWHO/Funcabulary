<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Funcabulary{% endblock %}</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/00_base.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/01_header.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/02_footer.css') }}">
    {% block css %}
        <link rel="stylesheet" href="{{ url_for('static', filename='css/main.css') }}">
    {% endblock %}
</head>

<body>
    {% block header %}
        {% include 'header.html' %}
    {% endblock %}

    {% block main %}
        <main>
            <section class="features">
                <div class="feature-card">
                    <h3>토플 필수 어휘</h3>
                    <p>시험에 자주 출제되는 핵심 단어 모음을 제공합니다.</p>
                </div>
                <div class="feature-card">
                    <h3>일일 학습 계획</h3>
                    <p>개인 맞춤형 학습 일정으로 효율적인 학습이 가능합니다.</p>
                </div>
                <div class="feature-card">
                    <h3>체계적인 동의어 학습</h3>
                    <p>기출 단어를 중심으로 한 동의어군을 통한 단어 학습으로, 단기간에 보다 효과적인 어휘 학습이 가능합니다.</p>
                </div>
                <div class="feature-card">
                    <h3>예문 학습</h3>
                    <p>실전 문맥 속 단어 활용 학습을 통해 이해도를 높입니다.</p>
                </div>
            </section>
        
            <section class="cards-section">
                <h2 class="section-tit">오늘의 랜덤 학습 단어</h2>
                <div class="cards-grid">
                    {% for word in today %}
                        <div class="cards-container">
                            <div class="card">
                                <div class="front">
                                    <div class="word-header">
                                        <h3 class="word-tit">{{ word.word }}</h3>
                                        {% for derivative in word.derivatives %}
                                            <p class="synonyms">
                                                <span class="word-pos">{{ derivative.pos.pos }}</span> {{ derivative.word }}
                                            </p>
                                        {% endfor %}
                                    </div>
                                    <div class="word-main">
                                        
                                    </div>
                                </div>
                                <div class="back">
                                    <div class="word-header">
                                        {% for info in word.details %}
                                            <div class="word-header-wrap">
                                                <h3 class="word-info">
                                                    {% if loop.length > 1 %}
                                                        <span class="meaning-count">{{ loop.index }}.</span> {{ info.meaning }}
                                                    {% else %}
                                                        {{ info.meaning }}
                                                    {% endif %}
                                                </h3>
                                                <p class="synonyms"><span class="word-pos">{{ info.pos.pos }}</span> {{ info.synonyms }}</p>
                                                <p class="example">{{ info.example | default('', true) | replace('\n', '<br>') | safe }}</p>
                                            </div>
                                        {% endfor %}
                                    </div>
                                    <div class="word-section">
                                        {% if word.note %}
                                            <div class="point-section">
                                                <div class="point-tit"><span class="tag">Point!</span></div>
                                                <p class="word-pos">{{ word.note | default('', true) | replace('\n', '<br>') | safe }}</p>
                                            </div>
                                        {% endif %}
                                    </div>
                                </div>
                            </div>
                        </div>
                    {% endfor %}
                </div>
            </section>
            <section class="cta-section">
                <h2>지금 바로 시작하세요</h2>
                <p>효율적인 토플 단어 학습을 위한 최적의 솔루션</p>
                <a href="{{ url_for('views.vocabulary') }}" class="cta-button">무료로 시작하기</a>
            </section>
        </main>
    {% endblock %}

    {% block footer %}
        {% include 'footer.html' %}
    {% endblock %}

    {% block js %}
        <script src="{{ url_for('static', filename='js/app.js') }}"></script>
    {% endblock %}
</body>

</html>